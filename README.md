# hugdeundeun

# 기획
- hug 든든전세주택데이터를 시각화하는 대시보드 구성해 적절한 지역을 고르는 의사결정을 위한 프로젝트(데이터 전처리 및 EDA)
- 사이트의 불안정성이 잇어 실시간으로 대시보드 실행시 데이터 자동 생성 되는 부분은 제외하기로
- 적절한 지역 선정 의사결정을 위해 필요한 요소
  - 역 접근성
  - 경쟁률
  - 비용
  - 서울 접근성(출퇴근시간)
  - 면적(크기)
  - 세부 구조도(링크로 입력)

# 분석 진행 과정
## 1. 데이터 크롤링
- 해당 홈페이지( https://www.khug.or.kr/jeonse/web/s07/s070101.jsp )의 데이터를 크롤링해 테이블로 구성
- 세부 구조도 이미지와 입주일 정보를 위해 href id 생성
- 해당 데이터의 주소를 이용해 좌표 데이터 생성(vworld api 사용 -> kakao api로 변경)

## 2. 위치 기반 데이터 분석
- Kakao REST API를 활용한 정확한 위치 데이터 산출(지하철 역정보 기준 위치가 안맞는 경우가 매우 많음)
  - 주소 기반 좌표 변환 (지오코딩)
  - 인근 지하철역 검색 및 거리 계산

## 3. EDA 및 데이터 시각화
- 지하철 역, 각 주택 위치 시각화
- 각 컬럼에 대한 기술 통계 
- 거리 및 경쟁률 heatmap, hotspot 시각화 

## 4. 지표 생성
- 면적 가성비 지표(방 갯수, 면적, 보증금)
- 통근 접근성 지표(주요 출퇴근 지역까지의 예상 통근 거리)-> 카카오내비 api 이용
- 의사결정 지표(통근 접근성, 보증금, 사용 가능 면적)

## 5. AI 기반 방 구조도 분석 워크플로우(데이터 추가 구현 방향)
- LangGraph를 활용한 방 구조도 분석 자동화 시스템 구현
- 워크플로우 구성:
  - 방 구조도 이미지 다운로드
  - AI를 통한 방 구조 설명 생성 
    - 방 개수, 발코니 수, 화장실 수 파악
    - 방 배치 및 구조 자세한 설명
  - 설명 정확도 검증
    - 자동 검증 과정으로 부정확한 설명 재생성
    - 최대 3회까지 재시도하여 정확도 향상
- 사용 기술:
  - Gemini 2.0 AI 모델(Gemini 2.0 Flash lite)
  - LangGraph로 AI 워크플로우 구성
  - Pydantic 모델로 구조화된 출력 보장

## 6. 유틸리티 기능
- base64 인코딩된 이미지 저장 기능 
  - 다운로드된 방 구조도 이미지를 PNG 파일로 저장
  - 파일명 자동 지정 및 관리

# hugdeundeun

# 기획
- hug 든든전세주택데이터를 시각화하는 대시보드 구성해 적절한 지역을 고르는 의사결정을 위한 프로젝트(데이터 전처리 및 EDA)
- 사이트의 불안정성이 잇어 실시간으로 대시보드 실행시 데이터 자동 생성 되는 부분은 제외하기로
- 적절한 지역 선정 의사결정을 위해 필요한 요소
  - 역 접근성
  - 경쟁률
  - 비용
  - 서울 접근성(출퇴근시간)
  - 면적(크기)
  - 세부 구조도(링크로 입력)
  - 주변 시설 접근성
  - 유사 매물 클러스터링

# 분석 진행 과정
## 1. 데이터 크롤링
- 해당 홈페이지( https://www.khug.or.kr/jeonse/web/s07/s070101.jsp )의 데이터를 크롤링해 테이블로 구성
- 세부 구조도 이미지와 입주일 정보를 위해 href id 생성
- 해당 데이터의 주소를 이용해 좌표 데이터 생성(vworld api 사용 -> kakao api로 변경)

## 2. 위치 기반 데이터 분석
- Kakao REST API를 활용한 정확한 위치 데이터 산출(지하철 역정보 기준 위치가 안맞는 경우가 매우 많음)
  - 주소 기반 좌표 변환 (지오코딩)
  - 인근 지하철역 검색 및 거리 계산
  - 카테고리별 주변 시설 검색 및 개수 파악
    - 대형마트, 편의점, 어린이집/유치원, 학교, 학원, 주차장, 주유소/충전소, 지하철역, 은행, 문화시설, 중개업소, 공공기관, 관광명소, 숙박, 음식점, 카페, 병원, 약국 등
  - 행정동/법정동 정보 조회
  - 지번/도로명 주소 정보 조회
  - 키워드 기반 장소 검색
- 유사 매물 클러스터링을 위한 특성 추출
  - 위치 기반 특성 (좌표, 행정동/법정동)
  - 접근성 특성 (지하철역 거리, 주요 시설 거리)
  - 주변 시설 특성 (카테고리별 시설 수)
  - 기본 특성 (면적, 보증금, 방 개수)

## 3. EDA 및 데이터 시각화
- 지하철 역, 각 주택 위치 시각화
- 각 컬럼에 대한 기술 통계 
- 거리 및 경쟁률 heatmap, hotspot 시각화 
- 주변 시설 분포 시각화
- 유사 매물 클러스터 시각화

## 4. 지표 생성
- 면적 가성비 지표(방 갯수, 면적, 보증금)
- 통근 접근성 지표(주요 출퇴근 지역까지의 예상 통근 거리)-> 카카오내비 api 이용
- 의사결정 지표(통근 접근성, 보증금, 사용 가능 면적)
- 주변 시설 접근성 지표(카테고리별 시설 수와 거리)
- 유사 매물 클러스터링 지표
  - 위치 기반 유사도
  - 접근성 기반 유사도
  - 주변 시설 기반 유사도
  - 기본 특성 기반 유사도

## 5. AI 기반 방 구조도 분석 워크플로우(데이터 추가 구현 방향)
- LangGraph를 활용한 방 구조도 분석 자동화 시스템 구현
- 워크플로우 구성:
  - 방 구조도 이미지 다운로드
  - AI를 통한 방 구조 설명 생성 
    - 방 개수, 발코니 수, 화장실 수 파악
    - 방 배치 및 구조 자세한 설명
  - 설명 정확도 검증
    - 자동 검증 과정으로 부정확한 설명 재생성
    - 최대 3회까지 재시도하여 정확도 향상
- 사용 기술:
  - Gemini 2.0 AI 모델(Gemini 2.0 Flash lite)
  - LangGraph로 AI 워크플로우 구성
  - Pydantic 모델로 구조화된 출력 보장

## 6. 유틸리티 기능
- base64 인코딩된 이미지 저장 기능 
  - 다운로드된 방 구조도 이미지를 PNG 파일로 저장
  - 파일명 자동 지정 및 관리

## 7. 카카오맵 API 활용 기능
- 주소-좌표 변환 기능
- 카테고리별 장소 검색
- 이동 시간 및 거리 계산
- 행정동/법정동 정보 조회
- 지번/도로명 주소 정보 조회
- 키워드 기반 장소 검색
- 카테고리별 주변 시설 수 조회
  - 각 카테고리별 최적의 검색 반경 설정
  - 대형마트: 1000m
  - 편의점: 300m
  - 어린이집/유치원: 500m
  - 학교: 500m
  - 학원: 500m
  - 주차장: 500m
  - 주유소/충전소: 1000m
  - 지하철역: 1000m
  - 은행: 500m
  - 문화시설: 500m
  - 중개업소: 500m
  - 공공기관: 500m
  - 관광명소: 500m
  - 숙박: 500m
  - 음식점: 500m
  - 카페: 500m
  - 병원: 500m
  - 약국: 500m

## 8. 유사 매물 클러스터링
- 다양한 특성을 기반으로 유사한 매물을 그룹화
- 클러스터링 특성
  - 위치 기반: 좌표, 행정동/법정동 정보
  - 접근성 기반: 지하철역 거리, 주요 시설 거리
  - 주변 시설 기반: 카테고리별 시설 수
  - 기본 특성: 면적, 보증금, 방 개수
- 클러스터링 결과 활용
  - 유사한 특성을 가진 매물 그룹화
  - 특정 매물과 유사한 다른 매물 추천
  - 지역별 특성 분석 및 비교
  - 가격 추정 및 시장 분석
